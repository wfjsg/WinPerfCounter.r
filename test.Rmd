---
title: "SimpleSystemSummary"
author: "WataruFujishige"
date: "2017年12月31日"
output: html_document
---

```{r setup, include=FALSE}
library(WinPerfCounter)
library(ggplot2)
data <- WinPerfCounter.readcsv("tests/testthat/test.csv")
summary <- WinPerfCounter.miniSummary(data)
knitr::opts_chunk$set(echo = TRUE)
```

## Summary

```{r echo=FALSE, warning=FALSE, asis=TRUE}
library(knitr)
s <- max(data$Timestamp) - min(data$Timestamp)
paste("Duration: ", s, units(s))
paste("DataPoints: ", length(data))
```

## Total

### CPU

```{r, echo=FALSE}
d <- WinPerfCounter.Metric.CPU(data)
g <- ggplot(d, aes(x=Timestamp, y=d$`Processor(_Total)|Interrupts/sec`))
g + guides(fill = FALSE) + 
  ylab("Processor Time") + 
  geom_point()
```

## Memory

```{r, echo=FALSE}
d <- WinPerfCounter.Metric.Memory(data)
g <- ggplot(d, aes(x=Timestamp, y=d$`Memory|Cache Faults/sec`))
g + guides(fill = FALSE) + 
  ylab("Transition Faults/sec") + 
  geom_point()
```

```{r, echo=FALSE}
plot(d$Timestamp,
     d$`Memory|Transition Faults/sec`)
```


You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
